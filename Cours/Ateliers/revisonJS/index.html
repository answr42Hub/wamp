<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
    <div class="alert alert-success">Total: <span>0</span></div>
    <form data-total="0" class="container">
        <div class="form-group">
            <label>Nombre</label>
            <input id="nb" class="form-control"/>
        </div>
        <div>
            <button class="btn btn-primary">Ajouter</button>
        </div>
        <ul></ul>
    </form>
    <script>
        let total = 0;
        document.querySelector('form').addEventListener('submit', e => {
            e.preventDefault();//ne fait pas laction par defaut

            let nb = document.querySelector('#nb').value;

            if(!isNaN(nb) && nb != "") {
                total += parseInt(nb);
                document.querySelector('.alert > span').innerText = total;
                document.querySelector('#nb').value = '';

                //document.querySelector('ul').insertAdjacentHTML('beforeend', `<li>${nb}</li>`);
                let li = document.createElement('li')
                li.innerText = nb;
                document.querySelector('ul').appendChild(li);
            }
            else {
                alert("Not a number !")
            }
            //document.querySelector('form').setAttribute('data-total', total);
        });
    </script>
    <script src="./node_modules/dayjs/dayjs.min.js"></script>
    <script src="./node_modules/dayjs/locale/fr-ca.js"></script>
    <script src="./node_modules/dayjs/plugin/localizedFormat.js"></script>
    <script src="./node_modules/dayjs/plugin/relativeTime.js"></script>
    <script>
        dayjs.extend(window.dayjs_plugin_localizedFormat);
        dayjs.extend(window.dayjs_plugin_relativeTime);
        dayjs.locale('fr-ca');

        let maintenant = dayjs(new Date(2022, 4, 1));
        maintenant = maintenant.add(20, 'd');
        console.log(maintenant.format('LL'));
        console.log(maintenant.fromNow());
    </script>

</body>
</html>
